#### java字节码

java字节码由于**单字节**的指令组成，因此理论上支持256个操作码，但实际只用了200个左右，还有一些操作码保留给调试操作。

使用javac命令编译java文件为class文件

使用javap -c/javap -c -verbose命令反编译字节码查看（助记符）

jvm可看作基于栈的计算机，每个线程都有一个线程栈，每调用一个方法都要往栈中压入一个栈帧（操作数栈+局部变量数组+Class引用）

#### jvm类加载器

1. 加载：找到class文件
2. 验证：验证格式、依赖
3. 准备：静态字段、方法表
4. 解析：符号 -> 引用
5. 初始化：构造器、静态变量赋值、静态代码块
6. 使用
7. 卸载

三类加载器
- 启动类加载器
- 扩展类加载器
- 应用类加载器

特点：双亲委托-负责依赖-缓存加载

#### jvm内存结构
![image](A619EE03B7114AD29A6E38A8B267677B)

#### jvm启动参数

1. 系统属性参数
2. 运行模式参数
3. 堆内存设置参数
4. GC 设置参数
5. 分析诊断参数
6. JavaAgent 参数

#### jvm常用诊断命令

1. jps/jinfo
2. **jstat**
3. jmap
4. jstack
5. **jcmd**
6. jrunscript/jjs

#### jvm图形化工具

1. jconsole
2. jvisualvm
3. visualGC --> idea
4. jmc
